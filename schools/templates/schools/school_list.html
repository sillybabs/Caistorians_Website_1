{% extends "Main/base.html" %}
{% load static %}
{% block content %}
<h2 class="directory-title">Schools Directory</h2>

<!-- Search form -->
<form method="get" class="directory-search">
    <input type="text" name="q" placeholder="Search by school name" value="{{ request.GET.q }}">
    <button type="submit">Search</button>
</form>

<!-- School cards -->
<div class="school-cards-container">
    {% for school in schools %}
    <a href="{% url 'schools:school_profile' school.name %}" class="school-card-link">
        <div class="school-card">
            <!-- Logo on the left -->
            <div class="school-card-logo">
                {% if school.logo %}
                    <img src="{{ school.logo.url }}" alt="{{ school.name }} Logo">
                {% else %}
                    <div class="no-logo">No Logo</div>
                {% endif %}
            </div>

            <!-- Name and address in center -->
            <div class="school-card-info">
                <h3>{{ school.name }}</h3>
                {% if school.address %}
                    <p>{{ school.address }}</p>
                {% endif %}
            </div>

            <!-- Description on the right -->
            <div class="school-card-description">
                <p>{{ school.description }}</p>
            </div>
        </div>
    </a>
    {% empty %}
    <p>No schools found.</p>
    {% endfor %}
</div>

<!-- Add CSS styling -->
<style>
.school-cards-container {
    display: flex;
    flex-direction: column;
    gap: 20px;
    padding-left: 245px;
    padding-right: 245px;
    box-sizing: border-box;
}

.school-card-link {
    text-decoration: none;
    color: inherit;
}

.school-card {
    width: 100%;
    display: flex;
    align-items: stretch;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 8px;
    height: 150px;
    transition: box-shadow 0.3s;
}

.school-card:hover {
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}

.school-card-logo {
    flex: 0 0 150px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-right: 20px;
}

.school-card-logo img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}

.no-logo {
    width: 100px;
    height: 100px;
    background-color: #ccc;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    color: #666;
}

.school-card-info {
    flex: 1;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
}

.school-card-info h3 {
    margin: 0;
    font-size: 1.2em;
}

.school-card-info p {
    margin: 5px 0 0 0;
    font-size: 0.9em;
    color: #555;
}

.school-card-description {
    flex: 1;
    padding-left: 20px;
    display: flex;
    align-items: center;
}

.school-card-description p {
    margin: 0;
    color: #333;
}
</style>
{% endblock %}
